<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · MarSwitching.jl</title><meta name="title" content="API · MarSwitching.jl"/><meta property="og:title" content="API · MarSwitching.jl"/><meta property="twitter:title" content="API · MarSwitching.jl"/><meta name="description" content="Documentation for MarSwitching.jl."/><meta property="og:description" content="Documentation for MarSwitching.jl."/><meta property="twitter:description" content="Documentation for MarSwitching.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/indigo.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">MarSwitching.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../get_started/">Getting started</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/example/">Regime switching Phillips curve</a></li><li><a class="tocitem" href="../examples/example_spx/">Time-varying transition probabilites - modelling stock market</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Model-estimation"><span>Model estimation</span></a></li><li><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li><li><a class="tocitem" href="#Model-summary"><span>Model summary</span></a></li><li><a class="tocitem" href="#Model-inference"><span>Model inference</span></a></li><li><a class="tocitem" href="#Other"><span>Other</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/m-dadej/MarSwitching.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/m-dadej/MarSwitching.jl/blob/main/docs/src/man/docstrings.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Docstrings"><a class="docs-heading-anchor" href="#Docstrings">Docstrings</a><a id="Docstrings-1"></a><a class="docs-heading-anchor-permalink" href="#Docstrings" title="Permalink"></a></h1><div class="admonition is-success"><header class="admonition-header">You may also use help mode `?`</header><div class="admonition-body"><p>You can access the docstring of every function listed here by typing <code>?</code> in Julia&#39;s REPL followed by the function name. For example, <code>?MSModel</code> will show the docstring for the <code>MSModel</code> function.</p></div></div><p>MarSwitching.jl exports following list of functions (and a struct):</p><ul><li><a href="#MarSwitching.MSM"><code>MarSwitching.MSM</code></a></li><li><a href="#MarSwitching.MSModel"><code>MarSwitching.MSModel</code></a></li><li><a href="#MarSwitching.add_lags"><code>MarSwitching.add_lags</code></a></li><li><a href="#MarSwitching.coeftable_tvtp"><code>MarSwitching.coeftable_tvtp</code></a></li><li><a href="#MarSwitching.ergodic_probs"><code>MarSwitching.ergodic_probs</code></a></li><li><a href="#MarSwitching.expected_duration"><code>MarSwitching.expected_duration</code></a></li><li><a href="#MarSwitching.filtered_probs"><code>MarSwitching.filtered_probs</code></a></li><li><a href="#MarSwitching.generate_msm-Union{Tuple{V}, Tuple{Vector{V}, Vector{V}, Matrix{V}, Int64}} where V&lt;:AbstractFloat"><code>MarSwitching.generate_msm</code></a></li><li><a href="#MarSwitching.generate_msm"><code>MarSwitching.generate_msm</code></a></li><li><a href="#MarSwitching.get_std_errors"><code>MarSwitching.get_std_errors</code></a></li><li><a href="#MarSwitching.grid_search_msm"><code>MarSwitching.grid_search_msm</code></a></li><li><a href="#MarSwitching.predict"><code>MarSwitching.predict</code></a></li><li><a href="#MarSwitching.smoothed_probs"><code>MarSwitching.smoothed_probs</code></a></li><li><a href="#MarSwitching.state_coeftable"><code>MarSwitching.state_coeftable</code></a></li><li><a href="#MarSwitching.summary_msm"><code>MarSwitching.summary_msm</code></a></li><li><a href="#MarSwitching.transition_mat"><code>MarSwitching.transition_mat</code></a></li></ul><h2 id="Model-estimation"><a class="docs-heading-anchor" href="#Model-estimation">Model estimation</a><a id="Model-estimation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-estimation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.MSM" href="#MarSwitching.MSM"><code>MarSwitching.MSM</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Struct MSM holds the parameters of the model, data and some other information. Is returned by the function <code>MSModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/msmodel.jl#L2-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.MSModel" href="#MarSwitching.MSModel"><code>MarSwitching.MSModel</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">MSModel(y::VecOrMat{V},
        k::Int64, 
        ;intercept::String = &quot;switching&quot;,
        exog_vars::VecOrMat{V},
        exog_switching_vars::VecOrMat{V},
        switching_var::Bool = true,
        exog_tvtp::VecOrMat{V},
        x0::Vector{V},
        algorithm::Symbol = :LN_SBPLX,
        maxtime::Int64 = -1,
        random_search::Int64 = 0,
        random_search_em::Int64,
        verbose::Bool) where V &lt;: AbstractFloat</code></pre><p>Function to estimate the Markov Switching Model. Returns an instance of MSM struct.</p><p>Note: The model likelihood function is very nonlinear and prone to local maxima. Increasing number of random searches can help, for the cost of longer training time. For the same reason, it is recommended not to estimate model with many states (e.g. more than 5), altough it is possible.</p><p><strong>Arguments</strong></p><ul><li><p><code>y::VecOrMat{V}</code>: dependent variable.</p></li><li><p><code>k::Int64</code>: number of states.</p></li><li><p><code>intercept::String</code>: &quot;switching&quot; or &quot;non-switching&quot; or &quot;no&quot;.</p></li><li><p><code>exog_vars::VecOrMat{V}</code>: optional exogenous variables for the non-switching part of the model.</p></li><li><p><code>exog_switching_vars::VecOrMat{V}</code>: optional exogenous variables for the switching part of the model.</p></li><li><p><code>switching_var::Bool</code>: is variance state dependent?</p></li><li><p><code>exog_tvtp::VecOrMat{V}</code>: optional exogenous variables for the tvtp part of the model.</p></li><li><p><code>x0::Vector{V}</code>: initial guess for the parameters. If empty, the initial guess is generated from k-means clustering.</p></li><li><p><code>algorithm::Symbol</code>: optimization algorithm to use. One of [<code>:LD_VAR2</code>, <code>:LD_VAR1</code>, <code>:LD_LBFGS</code>, <code>:LN_SBPLX</code>]</p></li><li><p><code>maxtime::Int64</code>: maximum time in seconds to run the optimization. If negative, the maximum time is equal T/2.</p></li><li><p><code>random_search_em::Int64</code>: number of random searches to perform for the EM algorithm. If 0, no random search is performed.</p></li><li><p><code>random_search::Int64</code>: number of random searches to perform. </p></li><li><p><code>verbose::Bool</code>: if true, prints out the progress of the random searches.</p></li></ul><p>References:</p><ul><li>Hamilton, J. D. (1989). A new approach to the economic analysis of nonstationary time series and the business cycle. Econometrica: Journal of the Econometric Society, 357-384.</li><li>Filardo, Andrew J. (1994). Business cycle phases and their transitional dynamics. Journal of Business &amp; Economic Statistics, 12(3), 299-308.</li></ul><p>See also <a href="#MarSwitching.grid_search_msm"><code>grid_search_msm</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/msmodel.jl#L129-L171">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.grid_search_msm" href="#MarSwitching.grid_search_msm"><code>MarSwitching.grid_search_msm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">grid_search_msm(y::VecOrMat{V}, 
                x::VecOrMat{V},
                criterion::String = &quot;AIC&quot;;
                k::Vector{Int64} = [2,3,4],
                intercept::Vector{String} = [&quot;switching&quot;, &quot;non-switching&quot;],
                vars::Vector{Vector{String}},
                switching_var::Vector{Bool} = [true, false],
                random_n::Int64,
                random_search_em::Int64 = 0,
                random_search::Int64 = 0,
                verbose::Bool = true,
                algorithm::Symbol = :LN_SBPLX,
                maxtime::Int64 = -1) where V &lt;: AbstractFloat</code></pre><p>Function for exhaustive or random search over specified parameter values for a Markov switching model (currently non-TVTP).</p><p>Returns a selected MSM model, vector of criterion values and a vector of tuples containing parameter space.</p><p>Note: Unless the data is of small size (both dimensions), it is best to limit the parameter space by providing smaller possible parameters or by chosing random number of parameters to evaluate.</p><p><strong>Arguments</strong></p><ul><li><code>y::VecOrMat{V}</code>: dependent variable.</li><li><code>x::VecOrMat{V}</code>: independent variables.</li><li><code>criterion::String</code>: criterion to use for model selection. One of &quot;AIC&quot; (default) or &quot;BIC&quot;.</li><li><code>k::Int64</code>: vector of states to evaluate.</li><li><code>intercept::String</code>: vector of &quot;switching&quot;, &quot;non-switching&quot; or &quot;no&quot;.</li><li><code>vars::Vector{Vector{String}}</code>: vector of vectors with either &quot;switching&quot; or &quot;non-switching&quot; for corresponding variables in <code>x</code> argument.</li><li><code>switching_var::Vector{Bool}</code>: vector of booleans for variance state dependency.</li><li><code>switching_var::Bool</code>: is variance state dependent?</li><li><code>random_n::Int64</code>: number of random parameters combinations to evaluate. If negative, performs an exhaustive grid search.</li><li><code>random_search_em::Int64</code>: number of random searches to perform for the EM algorithm in eery model estimation. If 0, no random search is performed.</li><li><code>random_search::Int64</code>: number of random searches to perform. </li><li><code>algorithm::Symbol</code>: optimization algorithm to use. One of [:LD<em>VAR2, :LD</em>VAR1, :LD<em>LBFGS, :LN</em>SBPLX]</li><li><code>maxtime::Int64</code>: maximum time in seconds to run the optimization. If negative, the maximum time is equal T/2.</li><li><code>verbose::Bool</code>: if true, prints out the progress of the grid/random search.</li></ul><p>See also <a href="#MarSwitching.MSModel"><code>MSModel</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/msmodel.jl#L334-L373">source</a></section></article><h2 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.generate_msm" href="#MarSwitching.generate_msm"><code>MarSwitching.generate_msm</code></a> — <span class="docstring-category">Function</span></header><section><div><p>generate_msm(model::MSM, T::Int64)</p><p>When applied to estimated model, generates artificial data of size T from the model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/generate.jl#L89-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.generate_msm-Union{Tuple{V}, Tuple{Vector{V}, Vector{V}, Matrix{V}, Int64}} where V&lt;:AbstractFloat" href="#MarSwitching.generate_msm-Union{Tuple{V}, Tuple{Vector{V}, Vector{V}, Matrix{V}, Int64}} where V&lt;:AbstractFloat"><code>MarSwitching.generate_msm</code></a> — <span class="docstring-category">Method</span></header><section><div><p>generate_msm(μ::Vector{Float64}, σ::Vector{Float64}, P::Matrix{Float64}, T::Int64; &lt;keyword arguments&gt;)</p><p>Generate artificial data from Markov switching model from provided parameters. Returns a tuple of <code>(y, s_t, X)</code> where <code>y</code> is the generated data, <code>s_t</code> is the state sequence and <code>X</code> is the design matrix.</p><p>Note, in order to have non-switching parameter provide it k-times.</p><p><strong>Arguments</strong></p><ul><li><code>μ::Vector{AbstractFloat}</code>: intercepts for each state.</li><li><code>σ::Vector{AbstractFloat}</code>: standard deviations for each state.</li><li><code>P::Matrix{AbstractFloat}</code>: transition matrix.</li><li><code>T::Int64</code>: number of observations to generate.</li><li><code>β::Vector{AbstractFloat}</code>: switching coefficients. (first k elements in vector are coefficeints of the first state equation).</li><li><code>β_ns::Vector{AbstractFloat}</code>: non-switching coefficients.</li><li><code>δ::Vector{AbstractFloat}</code>: tvtp coefficients.</li><li><code>tvtp_intercept::Bool</code>: whether to include an intercept in the tvtp model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/generate.jl#L2-L19">source</a></section></article><h2 id="Model-summary"><a class="docs-heading-anchor" href="#Model-summary">Model summary</a><a id="Model-summary-1"></a><a class="docs-heading-anchor-permalink" href="#Model-summary" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.summary_msm" href="#MarSwitching.summary_msm"><code>MarSwitching.summary_msm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">summary_msm(model::MSM; digits::Int64=3)</code></pre><p>Returns formated summary table of estimated model. It&#39;s built from <a href="#MarSwitching.summary_msm"><code>summary_msm</code></a>, <a href="#MarSwitching.state_coeftable"><code>state_coeftable</code></a> and <a href="#MarSwitching.coeftable_tvtp"><code>coeftable_tvtp</code></a> functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/results.jl#L191-L197">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.transition_mat" href="#MarSwitching.transition_mat"><code>MarSwitching.transition_mat</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">transition_mat(model::MSM; digits::Int64=2)</code></pre><p>Returns formated table of estimated transition matrix probabilities. It&#39;s one of the functions called by the <code>summary_msm</code> function.</p><p>See also <a href="#MarSwitching.summary_msm"><code>summary_msm</code></a>, <a href="#MarSwitching.state_coeftable"><code>state_coeftable</code></a>, <a href="#MarSwitching.coeftable_tvtp"><code>coeftable_tvtp</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/results.jl#L152-L159">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.state_coeftable" href="#MarSwitching.state_coeftable"><code>MarSwitching.state_coeftable</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">state_coeftable(model::MSM, state::Int64; digits::Int64=3)</code></pre><p>Returns formated table of coefficients and their statistics for a given state.     It&#39;s one of the functions called by the <code>summary_msm</code> function.</p><p>See also <a href="#MarSwitching.summary_msm"><code>summary_msm</code></a>, <a href="#MarSwitching.coeftable_tvtp"><code>coeftable_tvtp</code></a>, <a href="#MarSwitching.transition_mat"><code>transition_mat</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/results.jl#L62-L69">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.coeftable_tvtp" href="#MarSwitching.coeftable_tvtp"><code>MarSwitching.coeftable_tvtp</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">coeftable_tvtp(model::MSM; digits::Int64=3)</code></pre><p>Returns formated table of estimated coefficients from TVTP model and their statistics. It&#39;s one of the functions called by the <code>summary_msm</code> function.</p><p>See also <a href="#MarSwitching.summary_msm"><code>summary_msm</code></a>, <a href="#MarSwitching.state_coeftable"><code>state_coeftable</code></a>, <a href="#MarSwitching.transition_mat"><code>transition_mat</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/results.jl#L109-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.get_std_errors" href="#MarSwitching.get_std_errors"><code>MarSwitching.get_std_errors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_std_errors(model::MSM)</code></pre><p>Returns standard errors of the estimated parameters.  The errors are calculated with finite difference hessian od the log-likelihood function.</p><p>The output is a vector of standard errors in order given by <code>raw_params</code> field of the model.</p><p>The formula is squared diagonal values of the inverse (moore-penrose) of the hessian matrix:</p><p class="math-container">\[(-\frac{\partial^2 \mathcal{L}(\mathbf{\theta})}{\partial \mathbf{\theta} \mathbf{\theta}&#39;})^{-1}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/results.jl#L9-L22">source</a></section></article><h2 id="Model-inference"><a class="docs-heading-anchor" href="#Model-inference">Model inference</a><a id="Model-inference-1"></a><a class="docs-heading-anchor-permalink" href="#Model-inference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.filtered_probs" href="#MarSwitching.filtered_probs"><code>MarSwitching.filtered_probs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">filtered_probs(model::MSM; kwargs...)</code></pre><p>Returns filtered probabilities of each state at each time period. If only model is provided, in-sample data is used.</p><p>Filtered probabilites, unlike smoothed probabilites, are calculated using data available up to time T.</p><p><strong>Arguments</strong></p><ul><li><code>model::MSM</code>: estimated model.</li><li><code>y</code>: optional data for dependent variabla.</li><li><code>exog_vars</code>: optional exogenous variables for the non-switching part of the model.</li><li><code>exog_switching_vars</code>: optional exogenous variables for the switching part of the model.</li><li><code>exog_tvtp</code>: optional exogenous variables for the tvtp part of the model.</li></ul><p>See also <a href="#MarSwitching.smoothed_probs"><code>smoothed_probs</code></a> and <a href="#MarSwitching.expected_duration"><code>expected_duration</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L125-L141">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.smoothed_probs" href="#MarSwitching.smoothed_probs"><code>MarSwitching.smoothed_probs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">smoothed_probs(model::MSM; kwargs...)</code></pre><p>Returns smoothed probabilities of each state at each time period (Kim, 1994). If only MSM model is provided, in-sample data is used.</p><p>Smoothed probabilites, unlike filtered probabilites, are calculated using all available data.</p><p><strong>Arguments</strong></p><ul><li><code>model::MSM</code>: estimated model.</li><li><code>y</code>: optional data for dependent variabla.</li><li><code>exog_vars</code>: optional exogenous variables for the non-switching part of the model.</li><li><code>exog_switching_vars</code>: optional exogenous variables for the switching part of the model.</li><li><code>exog_tvtp</code>: optional exogenous variables for the tvtp part of the model.</li></ul><p>See also <a href="#MarSwitching.filtered_probs"><code>filtered_probs</code></a> and <a href="#MarSwitching.expected_duration"><code>expected_duration</code></a>.</p><p><strong>References</strong></p><p>Kim, Chang Jin (1994). Dynamic Linear Models with Markov-Switching. Journal of Econometrics 60, 1-22.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L179-L199">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.predict" href="#MarSwitching.predict"><code>MarSwitching.predict</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">predict(model::MSM, instantaneous::Bool = false; kwargs...)</code></pre><p>Provide either instantaneous or one-step-ahead prediction of the dependent variable.    </p><p>Which is the probability weighted average of predictions of each state equation:</p><p class="math-container">\[\hat{y}_t = \sum_{i=1}^{k} \hat{\xi}_{i,t}X_{t}&#39;\hat{\beta}_{i}\]</p><p>And for one step ahead, the state probabilities have to be predicted themselves:</p><p class="math-container">\[\hat{y}_{t+1} = \sum_{i=1}^{k} (P\hat{\xi}_{i,t})X_{t+1}&#39;\hat{\beta}_{i}\]</p><p>If only MSM model is provided, in-sample data is used.</p><p>Returns a tuple of <code>(ŷ, ξ_t)</code> where <code>ŷ</code> is the predicted value of the dependent variable and <code>ξ_t</code> is the filtered probabilities of each state at each time period.</p><p><strong>Arguments</strong></p><ul><li><code>model::MSM</code>: estimated model.</li><li><code>y</code>: optional data for dependent variabla.</li><li><code>exog_vars</code>: optional exogenous variables for the non-switching part of the model.</li><li><code>exog_switching_vars</code>: optional exogenous variables for the switching part of the model.</li><li><code>exog_tvtp</code>: optional exogenous variables for the tvtp part of the model.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L231-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.expected_duration" href="#MarSwitching.expected_duration"><code>MarSwitching.expected_duration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">expected_duration(model::MSM, exog_tvtp::VecOrMat{AbstractFloat})</code></pre><p>For non-TVTP model, returns Vector of expected duration of each state. For TVTP model, returns a matrix of expected duration of each state at timt t.    </p><p>formula: <code>1 / (1 - P[i,i])</code> or for TVTP - <code>1 / (1 - P[i,i, t])</code></p><p><strong>Arguments</strong></p><ul><li><code>model::MSM</code>: estimated model.</li><li><code>exog_tvtp::VecOrMat{AbstractFloat}</code>: optional exogenous variables for the tvtp model. If not provided, in-sample data is used.</li></ul><p>See also <a href="#MarSwitching.ergodic_probs"><code>ergodic_probs</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L91-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.ergodic_probs" href="#MarSwitching.ergodic_probs"><code>MarSwitching.ergodic_probs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ergodic_probs(P::Matrix{Float64})</code></pre><p>Returns a <code>k</code>-size Vector of ergodic probabilites of each state.     </p><p>The ergodic probabilites (also known as long-term probabilites) of a Markov process are the probabilites that satisfy the following equation:</p><p class="math-container">\[\lim_{n\to\infty} P^n = \pi = P \pi \]</p><p>The ergodic probability is proportional to the eigenvector of the transition matrix P associated to the unit eigenvalue.</p><p><strong>Arguments</strong></p><ul><li><code>P::Matrix{Float64}</code>: left stochastic transition matrix.</li></ul><p>See also <a href="#MarSwitching.expected_duration"><code>expected_duration</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L27-L44">source</a></section><section><div><pre><code class="language-julia hljs">ergodic_probs(model::MSM, exog_tvtp::VecOrMat{V})</code></pre><p>when applied to the non-TVTP model, returns a <code>k</code>-size Vector of ergodic probabilites of each state.      For TVTP model, returns <span>$T \times K$</span> a matrix of ergodic probabilites of each state at time t.</p><p><strong>Arguments</strong></p><ul><li><code>model::MSM</code>: estimated model.</li><li><code>exog_tvtp::VecOrMat{AbstractFloat}</code>: optional exogenous variables for the tvtp model. If not provided, in-sample data is used.</li></ul><p>See also <a href="#MarSwitching.expected_duration"><code>expected_duration</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/inference.jl#L58-L69">source</a></section></article><h2 id="Other"><a class="docs-heading-anchor" href="#Other">Other</a><a id="Other-1"></a><a class="docs-heading-anchor-permalink" href="#Other" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="MarSwitching.add_lags" href="#MarSwitching.add_lags"><code>MarSwitching.add_lags</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">add_lags(y::Vector{Float64}, p::Int64)</code></pre><p>Given a vector <code>y</code> of length <code>T</code>, returns a matrix of size <code>(T-p) x (p+1)</code> where the first column is <code>y[p+1:T]</code>, second column is <code>y[p:T-1]</code> and so on.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-dadej/MarSwitching.jl/blob/f8c8141b034c6198436bb5c91471dbf443bd7c90/src/utils.jl#L11-L16">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/example_spx/">« Time-varying transition probabilites - modelling stock market</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Friday 14 June 2024 12:29">Friday 14 June 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
